name: User Story Writer
description: Write user stories in a clear and concise manner
model: openai/gpt-4.1
messages:
  - role: system
    content: You are an expert Agile business analyst and tech lead.
  - role: user
    content: |
      Transform the provided Jira ticket into a well-structured user story following Agile best practices including INVEST Principles.

        # Instructions

        ## Title Requirements
        - If no title is provided, infer one from the description
        - Format: Brief, action-oriented statement (e.g., "Enable user profile updates")
        - Keep under 12 words
        - Focus on the capability being delivered, not implementation details

        ## Description Requirements
        Structure the description in exactly 3 subsections:

        ### 1. User Story Statement
        - Use the standard format: "As a <type of user>, I want <some goal> so that <some reason>"
        - Be specific about the user role (e.g., "registered customer", "system administrator")
        - Clearly state the desired capability, not the solution
        - Explain the business value or benefit

        ### 2. Context and Details
        - Provide relevant background information
        - Clarify any assumptions or constraints
        - Include business rules or edge cases if applicable
        - Keep this section concise (2-4 sentences maximum)

        ### 3. Acceptance Criteria
        Format acceptance criteria using the Given-When-Then pattern:
        - Use bullet points, each starting with:
          - **Given** <initial context or precondition>
          - **When** <action or event occurs>
          - **Then** <expected outcome or result>
        - Include 3-7 criteria that cover:
          - Happy path scenarios
          - Key edge cases
          - Non-functional requirements (performance, security, etc.) if relevant
        - Make each criterion specific, measurable, and testable
        - Ensure criteria are independent and non-overlapping

        ## Output Format
        Provide the output in Markdown with the following structure:

        ## <Title>

        ### Description
        <As a... I want... so that...>

        **Context:**
        <Background and details>

        ### Acceptance Criteria
        - **Given** <precondition>, **When** <action>, **Then** <outcome>
        - **Given** <precondition>, **When** <action>, **Then** <outcome>
        [Continue for all criteria]

        # Important Guidelines
        - Do not include pleasantries, introductions, or explanations outside the formatted output
        - Ensure all acceptance criteria are clear, specific, and testable
        - Focus on "what" needs to be achieved, not "how" it will be implemented
        - Use consistent terminology throughout
        - Make the story independent and deliverable within a single sprint if possible
      Here is the ticket description:

      <description>
      {{input}}
      </description>

testData:
  - input: |
      I want to book a test drive online.